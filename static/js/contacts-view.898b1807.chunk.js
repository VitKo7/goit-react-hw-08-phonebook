(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{107:function(t,e,n){t.exports={addContactForm:"ContactForm_addContactForm__1Rcxw",label:"ContactForm_label__1ENTd",input:"ContactForm_input__1ymnl",text:"ContactForm_text__3D7dF",btnAdd:"ContactForm_btnAdd__1e0RF"}},108:function(t,e,n){t.exports={btnDelete:"ContactListItem_btnDelete__3I0s0"}},109:function(t,e,n){t.exports={enter:"pop_enter__1cTEn",enterActive:"pop_enterActive__2_kxm",exit:"pop_exit__HtqQ6",exitActive:"pop_exitActive__1kkza"}},110:function(t,e,n){t.exports={list:"ContactList_list__3hH2C",contactListItem:"ContactList_contactListItem__OdCci"}},111:function(t,e,n){t.exports={input:"Filter_input__2sa19"}},112:function(t,e,n){t.exports={container:"ContactsView_container__1jNmV",contacts:"ContactsView_contacts__3PUUr",contactsTitle:"ContactsView_contactsTitle__3qx8F"}},117:function(t,e,n){"use strict";n.r(e);var a=n(34),c=n(35),r=n(37),s=n(36),o=n(0),i=n(9),l=n(2),u=n(17),p=n.n(u),b=n(22),h=n(20),j=n.n(h),d=n(11),m=n(3),f=n(107),O=n.n(f),x=n(26),v=function(t){return t.contacts.items},_=function(t){return t.contacts.filter},C={getLoading:function(t){return t.contacts.loading},getAllContacts:v,getFilter:_,getFilteredContacts:Object(x.a)([v,_],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},g=n(1),y=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleInput=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(l.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props.contacts.find((function(t){return t.name===a||t.number===c}));if(r)alert("Either '".concat(r.name,"' or '").concat(r.number,"' already exists"));else if(0===a.length||0===c.length)alert("Please, fill in all the fields");else{var s={id:Object(m.e)(),name:a,number:c};t.props.addContact(s)}t.resetForm()},t.resetForm=function(){t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:this.handleSubmit,className:O.a.addContactForm,children:[Object(g.jsx)("label",{className:O.a.label,children:"Name:"}),Object(g.jsx)("input",{name:"name",type:"text",placeholder:"Name Surname",className:O.a.input,onChange:this.handleInput,value:e}),Object(g.jsx)("label",{className:O.a.label,children:"Number:"}),Object(g.jsx)("input",{name:"number",type:"text",placeholder:"123-456",className:O.a.input,onChange:this.handleInput,value:n}),Object(g.jsx)("button",{type:"submit",className:O.a.btnAdd,children:"Add contact"})]})})}}]),n}(o.Component),F={addContact:function(t){return function(){var e=Object(b.a)(p.a.mark((function e(n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(d.b)()),e.prev=1,e.next=4,j.a.post("/contacts",t);case 4:a=e.sent,c=a.data,n(Object(d.c)(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(d.a)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}},N=Object(i.b)((function(t){return{contacts:C.getAllContacts(t)}}),F)(y),k=n(19),w=n(108),A=n.n(w),I={deleteContact:function(t){return function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(d.e)()),e.prev=1,e.next=4,j.a.delete("/contacts/".concat(t));case 4:n(Object(d.f)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(d.d)(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},L=Object(i.b)(null,I)((function(t){var e=t.id,n=t.name,a=t.number,c=t.deleteContact;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{className:A.a.contact,children:[Object(g.jsx)("b",{children:n}),": ",a]}),Object(g.jsx)("button",{"data-id":e,onClick:function(t){return c(e)},type:"button",className:A.a.btnDelete,children:"Delete"})]})})),D=n(119),T=n(118),S=n(109),V=n.n(S),E=n(110),P=n.n(E),U=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"contactsList",children:0===this.props.contacts.length?Object(g.jsx)("p",{children:"There are no contacts here yet ..."}):Object(g.jsx)(D.a,{component:"ul",className:P.a.list,children:this.props.contacts.map((function(t){return Object(g.jsx)(T.a,{timeout:200,classNames:V.a,children:Object(g.jsx)("li",{className:P.a.contactListItem,children:Object(g.jsx)(L,Object(k.a)({},t))},t.id)},t.id)}))})})}}]),n}(o.Component),q={fetchContacts:function(){return function(){var t=Object(b.a)(p.a.mark((function t(e){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(d.h)()),t.prev=1,t.next=4,j.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(d.i)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(d.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},handleInput:d.j},H=Object(i.b)((function(t){return{contacts:t.contacts.items.length>2?C.getFilteredContacts(t):t.contacts.items}}),q)(U),J=n(111),R=n.n(J),z=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={},t}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(){this.props.contacts.length<=2&&this.props.handleInput("")}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.filter,a=t.handleInput;return Object(g.jsx)(g.Fragment,{children:e.length>2&&Object(g.jsxs)("div",{className:"contactsFilter",children:[Object(g.jsx)("p",{children:"Find contacts by name:"}),Object(g.jsx)("input",{name:"filter",type:"text",autoComplete:"off",className:R.a.input,onChange:function(t){return a(t.target.value)},value:n})]})})}}]),n}(o.Component),M={handleInput:d.j},Q=Object(i.b)((function(t){return{filter:C.getFilter(t),contacts:C.getAllContacts(t)}}),M)(z),B=n(38),G=n.n(B),K=n(112),W=n.n(K),X=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={contacts:[],filter:""},t}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:W.a.container,children:[Object(g.jsx)("h2",{children:"Phonebook"}),Object(g.jsx)(N,{}),this.props.isLoadingContacts&&Object(g.jsx)(G.a,{type:"ThreeDots",color:"green",height:80,width:80}),Object(g.jsxs)("div",{className:W.a.contacts,children:[Object(g.jsx)("h3",{className:W.a.contactsTitle,children:"Contacts"}),Object(g.jsx)(Q,{}),Object(g.jsx)(H,{handleInput:this.props.handleInput})]})]})}}]),n}(o.Component),Y={handleInput:d.j};e.default=Object(i.b)((function(t){return{isLoadingContacts:C.getLoading(t)}}),Y)(X)}}]);
//# sourceMappingURL=contacts-view.898b1807.chunk.js.map